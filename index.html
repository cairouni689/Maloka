<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù„ÙˆÙƒÙ‡ ØªÙØ±Ø­ ÙˆØªØªØ¨Ø³Ø·</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        royal: '#4169E1',
                        darkbg: '#0f172a',
                        cardbg: '#1e293b',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            color: #f1f5f9;
            overflow-x: hidden;
        }

        /* Custom Scrollbar for Dark Mode */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #4169E1; 
            border-radius: 4px;
        }

        /* Balloon Animation */
        .balloon {
            position: absolute;
            bottom: -100px;
            width: 40px;
            height: 50px;
            border-radius: 50%;
            opacity: 0.8;
            animation: floatUp 4s ease-in infinite;
            z-index: 40;
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.3);
        }
        .balloon::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 30px;
            background: rgba(255,255,255,0.3);
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(-100vh) rotate(20deg); opacity: 0; }
        }

        /* Fade Up Text Animation */
        .fade-up {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards;
        }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .delay-100 { animation-delay: 0.2s; }
        .delay-200 { animation-delay: 0.5s; }
        .delay-300 { animation-delay: 0.8s; }
        .delay-400 { animation-delay: 1.2s; }
        .delay-500 { animation-delay: 1.5s; }
        .delay-600 { animation-delay: 1.8s; }
        .delay-700 { animation-delay: 2.1s; }

        /* Royal Blue Button Hover Effect */
        .royal-btn {
            background-color: #4169E1; 
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(65, 105, 225, 0.3);
        }
        .royal-btn:hover {
            transform: scale(1.05);
            background-color: #3b5bdb;
            box-shadow: 0 0 30px rgba(65, 105, 225, 0.5);
        }

        /* Glassmorphism for cards (Dark Version) */
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-glass {
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(65, 105, 225, 0.3);
        }

        /* Happiness Icon Pulse */
        .happy-pulse {
            animation: pulse-glow 3s infinite;
        }
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 30px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }

        /* Reaction Buttons Styling */
        .reaction-btn {
            font-size: 1.5rem;
            filter: grayscale(100%);
            opacity: 0.6;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }
        .reaction-btn:hover {
            filter: grayscale(0%);
            opacity: 1;
            background: rgba(255,255,255,0.1);
            transform: translateY(-3px);
        }
        .reaction-btn.active {
            filter: grayscale(0%);
            opacity: 1;
            transform: scale(1.2);
            background: rgba(65, 105, 225, 0.2);
            border: 1px solid rgba(65, 105, 225, 0.5);
            box-shadow: 0 0 15px rgba(65, 105, 225, 0.4);
        }
    </style>
</head>
<body class="min-h-screen relative selection:bg-royal selection:text-white">

    <!-- Header -->
    <header onclick="resetToHome()" class="fixed top-0 w-full z-[60] glass-card shadow-lg px-6 py-4 flex justify-between items-center cursor-pointer transition hover:bg-slate-800/80">
        <div class="flex items-center gap-3">
            <div class="bg-slate-700/50 p-2 rounded-full border border-slate-600">
                <!-- Cute Bear Icon -->
                <span class="text-2xl">ğŸ§¸</span>
            </div>
            <div>
                <h1 class="text-xl md:text-2xl font-bold text-white tracking-wide">Ù…Ù„ÙˆÙƒÙ‡ <span class="text-royal">ØªÙØ±Ø­</span></h1>
            </div>
        </div>
        
        <!-- Hamburger Menu Button (Stop propagation to prevent header click) -->
        <button onclick="event.stopPropagation(); toggleMenu()" class="text-white hover:text-royal focus:outline-none p-2 rounded-lg transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </header>

    <!-- Side Menu -->
    <div id="sideMenu" class="fixed inset-0 bg-black/80 z-[70] hidden transition-opacity duration-300 backdrop-blur-sm">
        <div class="absolute left-0 top-0 h-full w-3/4 max-w-sm bg-slate-900 shadow-2xl transform -translate-x-full transition-transform duration-300 flex flex-col border-r border-slate-700" id="menuPanel">
            <div class="p-6 bg-slate-800 flex justify-between items-center border-b border-slate-700">
                <h2 class="text-xl font-bold text-royal">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© ğŸ‘‘</h2>
                <button onclick="toggleMenu()" class="text-gray-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <div class="p-4 space-y-3 overflow-y-auto flex-1">
                <!-- Menu Items -->
                <button onclick="showCategory('specs')" class="w-full text-right p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 hover:border-royal transition flex items-center gap-4 text-slate-200 group">
                    <span class="text-2xl group-hover:scale-110 transition">ğŸ“œ</span> 
                    <span class="font-semibold">Ù…ÙˆØ§ØµÙØ§Øª Ù…Ù„Ùƒ</span>
                </button>
                <button onclick="showCategory('team')" class="w-full text-right p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 hover:border-royal transition flex items-center gap-4 text-slate-200 group">
                    <span class="text-2xl group-hover:scale-110 transition">ğŸ†</span> 
                    <span class="font-semibold">Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„ØªÙŠÙ…</span>
                </button>
                <button onclick="showCategory('kindness')" class="w-full text-right p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 hover:border-royal transition flex items-center gap-4 text-slate-200 group">
                    <span class="text-2xl group-hover:scale-110 transition">ğŸ’–</span> 
                    <span class="font-semibold">Ø­Ù†ÙŠØ© ÙˆØ·ÙŠØ¨Ø© Ù‚Ù„Ø¨</span>
                </button>
                <button onclick="showCategory('happiness')" class="w-full text-right p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 hover:border-royal transition flex items-center gap-4 text-slate-200 group">
                    <span class="text-2xl group-hover:scale-110 transition">ğŸŒŸ</span> 
                    <span class="font-semibold">Ù…ØµØ¯Ø± Ø§Ù„Ø¨Ù‡Ø¬Ø©</span>
                </button>
                <button onclick="showCategory('innocence')" class="w-full text-right p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 hover:border-royal transition flex items-center gap-4 text-slate-200 group">
                    <span class="text-2xl group-hover:scale-110 transition">ğŸ’</span> 
                    <span class="font-semibold">Ø§Ù„Ù†ÙŠØ© Ø§Ù„ØµØ§ÙÙŠØ©</span>
                </button>
            </div>
            
            <div class="p-6 text-center text-xs text-slate-500 bg-slate-900 border-t border-slate-800">
                ØµÙ†Ø¹ Ø¨ÙƒÙ„ Ø­Ø¨ ÙˆØªÙ‚Ø¯ÙŠØ± Ù„Ù…Ù„Ùƒ â¤ï¸
            </div>
        </div>
    </div>

    <!-- Main Hero Section -->
    <main id="mainContent" class="pt-24 min-h-screen flex flex-col items-center justify-center p-6 text-center transition-all duration-500 relative z-10">
        
        <!-- Happiness Image/Icon Area -->
        <div class="mb-10 relative group">
            <div class="absolute -inset-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition duration-1000 happy-pulse"></div>
            <div class="relative w-52 h-52 bg-gradient-to-b from-slate-800 to-slate-900 rounded-full flex items-center justify-center shadow-2xl border-4 border-slate-700 overflow-hidden">
                <!-- SVG Illustration of Happiness/Sun/Joy -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-32 h-32 animate-[spin_10s_linear_infinite]">
                    <!-- Sun Rays -->
                    <circle cx="50" cy="50" r="20" fill="#FDB813" />
                    <g stroke="#FDB813" stroke-width="4" stroke-linecap="round">
                        <line x1="50" y1="15" x2="50" y2="5" />
                        <line x1="50" y1="85" x2="50" y2="95" />
                        <line x1="15" y1="50" x2="5" y2="50" />
                        <line x1="85" y1="50" x2="95" y2="50" />
                        <line x1="25" y1="25" x2="18" y2="18" />
                        <line x1="75" y1="75" x2="82" y2="82" />
                        <line x1="25" y1="75" x2="18" y2="82" />
                        <line x1="75" y1="25" x2="82" y2="18" />
                    </g>
                </svg>
                <div class="absolute bottom-4 text-3xl">âœ¨ğŸ˜„âœ¨</div>
            </div>
        </div>

        <h2 class="text-3xl md:text-5xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg">
            Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒÙŠ ÙŠØ§ <span class="text-royal">Ø¨Ù‡Ø¬Ø© Ø§Ù„Ø£ÙŠØ§Ù…</span>
        </h2>
        <p class="text-lg text-slate-300 mb-12 max-w-lg mx-auto leading-relaxed">
            Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¯Ù‡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø³ÙŠØ·Ø© Ø¹Ø´Ø§Ù† Ù†Ù‚ÙˆÙ„Ùƒ Ù‚Ø¯ Ø¥ÙŠÙ‡ ÙˆØ¬ÙˆØ¯Ùƒ ÙØ§Ø±Ù‚ØŒ ÙˆÙ‚Ø¯ Ø¥ÙŠÙ‡ Ø£Ù†ØªÙŠ Ø´Ø®Øµ Ø¬Ù…ÙŠÙ„ Ù…Ù† Ø¬ÙˆÙ‡ ÙˆÙ…Ù† Ø¨Ø±Ù‡.
        </p>

        <button onclick="startSurprise()" class="royal-btn text-white text-xl font-bold py-5 px-12 rounded-full flex items-center gap-3 relative overflow-hidden group">
            <span class="relative z-10">Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§ Ù„Ù„Ø§Ù†Ø¨Ø³Ø§Ø·</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 animate-bounce relative z-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <!-- Hover effect fill -->
            <div class="absolute inset-0 bg-white/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300"></div>
        </button>

    </main>

    <!-- Surprise Page (Overlay - Scrollable) -->
    <div id="surprisePage" class="fixed inset-0 bg-[#0f172a] z-50 hidden flex-col items-center text-center overflow-y-auto">
        
        <!-- Back Button within Surprise -->
        <button onclick="closeSurprise()" class="fixed top-24 left-6 bg-slate-800/80 backdrop-blur border border-slate-600 p-3 rounded-full text-white hover:bg-royal transition z-[60] shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <!-- Container for balloons (Fixed position) -->
        <div id="balloonsContainer" class="fixed inset-0 pointer-events-none overflow-hidden z-[45]"></div>

        <!-- Content Container -->
        <div class="relative z-50 w-full max-w-3xl px-6 py-32 md:py-40 flex flex-col gap-12">
            
            <!-- Section 1 -->
            <div class="space-y-6">
                <h1 class="text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-royal mb-8 fade-up drop-shadow-sm">
                    Ù…Ù„ÙˆÙƒÙ‡ Ø§Ù„ØºØ§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ â¤ï¸
                </h1>
                <p class="text-2xl md:text-3xl text-slate-200 font-semibold fade-up delay-100 leading-normal">
                    Ø£Ù†ØªÙŠ Ù…Ø´ Ù…Ø¬Ø±Ø¯ Ø´Ø®Øµ Ø¹Ø§Ø¯ÙŠØŒ Ø£Ù†ØªÙŠ Ø­Ø§Ù„Ø© Ø­Ù„ÙˆØ© Ø¨ØªÙŠØ¬ÙŠ ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ù†Ø§Ø³ Ø¹Ø´Ø§Ù† ØªØ­Ù„ÙŠÙ‡Ø§.
                </p>
            </div>

            <!-- Section 2: Card style -->
            <div class="fade-up delay-200 glass-card p-8 rounded-2xl shadow-xl transform transition hover:scale-[1.02]">
                <p class="text-xl md:text-2xl text-slate-300 leading-loose">
                    Ø¹Ø§ÙŠØ² Ø£Ù‚ÙˆÙ„Ùƒ Ø¥Ù†Ùƒ <span class="text-royal font-bold">Ø£Ø´Ø·Ø± ÙˆØ£Ø°ÙƒÙ‰</span> Ø­Ø¯ Ù…Ù…ÙƒÙ† Ø§Ù„ÙˆØ§Ø­Ø¯ ÙŠÙ‚Ø§Ø¨Ù„Ù‡. Ù„ÙŠÙƒÙŠ Ø·Ù„Ø© ÙˆÙ„ÙŠÙƒÙŠ Ø­Ø¶ÙˆØ± Ø¨ÙŠØ®Ø·Ù Ø§Ù„Ø£Ù†Ø¸Ø§Ø± Ù…Ù† ØºÙŠØ± Ù…Ø¬Ù‡ÙˆØ¯. Ø´Ø·Ø§Ø±ØªÙƒ ÙÙŠ Ø§Ù„Ø´ØºÙ„ ÙˆÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³ Ø¨ÙŠØ®Ù„ÙŠÙ†Ø§ ÙƒÙ„Ù†Ø§ ÙØ®ÙˆØ±ÙŠÙ† Ø¨ÙŠÙƒÙŠ.
                </p>
                <!-- Reactions for Section 2 -->
                <div class="mt-6 border-t border-slate-600/50 pt-4 flex justify-center gap-4" id="reactions-surprise-card">
                    <!-- Injected by JS -->
                </div>
            </div>

            <!-- Section 3 -->
            <div class="space-y-6 fade-up delay-300">
                <div class="text-6xl animate-pulse">âœ¨ğŸ‘‘âœ¨</div>
                <p class="text-xl md:text-2xl text-slate-200 leading-relaxed">
                    Ù‚Ù„Ø¨Ùƒ Ø§Ù„Ø£Ø¨ÙŠØ¶ Ø¯Ù‡ ÙƒÙ†Ø²ØŒ ÙˆÙ…Ø¹Ø¯Ù†Ùƒ Ø§Ù„Ø£ØµÙŠÙ„ Ø¨ÙŠØ¨Ø§Ù† ÙÙŠ ÙƒÙ„ Ù…ÙˆÙ‚Ù. Ø±Ø¨Ù†Ø§ ÙŠØ­Ø¨Ø¨ ÙÙŠÙƒÙŠ Ø®Ù„Ù‚Ù‡ ÙƒÙ…Ø§Ù† ÙˆÙƒÙ…Ø§Ù† Ù„Ø£Ù†Ùƒ ØªØ³ØªØ§Ù‡Ù„ÙŠ ÙƒÙ„ Ø®ÙŠØ± Ø§Ù„Ø¯Ù†ÙŠØ§.
                </p>
            </div>

            <!-- Section 4: More Compliments -->
            <div class="fade-up delay-400 glass-card p-8 rounded-2xl shadow-xl border-r-4 border-royal text-right">
                <h3 class="text-xl font-bold text-royal mb-4">Ø±Ø³Ø§Ù„Ø© Ù„ÙŠÙƒÙŠ:</h3>
                <p class="text-lg text-slate-300 leading-loose">
                    Ù…ØªØ®Ù„ÙŠØ´ Ø£ÙŠ Ø­Ø§Ø¬Ø© ØªØ¶Ø§ÙŠÙ‚Ùƒ ÙˆÙ„Ø§ ØªØ´ÙŠÙ„ÙŠ Ù‡Ù… Ø§Ù„Ø¯Ù†ÙŠØ§. Ø£Ù†ØªÙŠ Ù‚ÙˆÙŠØ©ØŒ ÙˆØ¬Ù…ÙŠÙ„Ø©ØŒ ÙˆÙ…Ø­Ø¨ÙˆØ¨Ø©. Ø®Ù„ÙŠÙƒÙŠ Ø¯Ø§ÙŠÙ…Ø§Ù‹ ÙˆØ§Ø«Ù‚Ø© ÙÙŠ Ù†ÙØ³Ùƒ ÙˆÙÙŠ Ù‚Ø¯Ø±Ø§ØªÙƒ Ù„Ø£Ù†Ùƒ ØªÙ‚Ø¯Ø±ÙŠ ØªØ¹Ù…Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø¬Ø²Ø§Øª. Ø§Ø¨ØªØ³Ø§Ù…ØªÙƒ Ø¯ÙŠ "Ø­ÙŠØ§Ø©" ØªØ§Ù†ÙŠØ©ØŒ ÙØ¥ÙˆØ¹ÙŠ ØªØºÙŠØ¨ÙŠÙ‡Ø§ Ø¹Ù†Ù†Ø§.
                </p>
                <!-- Reactions for Section 4 -->
                <div class="mt-6 border-t border-slate-600/50 pt-4 flex justify-center gap-4" id="reactions-surprise-msg">
                    <!-- Injected by JS -->
                </div>
            </div>

            <!-- Section 5: Closing -->
            <div class="fade-up delay-500 pb-20">
                <p class="text-3xl font-bold text-white mb-6">
                    Ø¨Ù†Ø­Ø¨Ùƒ Ø¬Ø¯Ø§Ù‹ ÙŠØ§ Ù…Ù„ÙˆÙƒÙ‡! â¤ï¸
                </p>
                <button onclick="closeSurprise()" class="px-8 py-3 bg-slate-800 text-royal border border-royal rounded-full hover:bg-royal hover:text-white transition">
                    Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </div>

        </div>
    </div>

    <!-- Category Modal -->
    <div id="infoModal" class="fixed inset-0 bg-black/90 z-[80] hidden flex items-center justify-center p-4 backdrop-blur-md transition-opacity">
        <div class="modal-glass rounded-3xl w-full max-w-2xl shadow-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300 max-h-[80vh] overflow-y-auto" id="modalCard">
            <div class="bg-slate-800/80 p-6 text-center border-b border-slate-700 relative sticky top-0 z-10 backdrop-blur-md">
                <div class="text-6xl mb-4 animate-bounce" id="modalIcon">ğŸ‘‘</div>
                <h3 class="text-3xl font-bold text-white" id="modalTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ¦Ø©</h3>
                <button onclick="closeModal()" class="absolute top-4 left-4 text-slate-400 hover:text-red-400 bg-slate-900/50 rounded-full p-1 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="p-8 md:p-10 text-center space-y-6">
                <p class="text-xl md:text-2xl leading-loose text-slate-300 font-medium" id="modalContent">
                    Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒÙ„Ø§Ù…...
                </p>
                <div class="w-24 h-1 bg-royal mx-auto rounded-full opacity-50"></div>
                
                <!-- Dynamic Reactions for Modal -->
                <div class="flex justify-center items-center gap-4 mt-4" id="reactions-modal-container">
                    <!-- Injected by JS -->
                </div>

                <p class="text-royal text-lg mt-4">Ø£Ù†ØªÙŠ ØªØ³ØªØ§Ù‡Ù„ÙŠ Ø£ÙƒØªØ± Ù…Ù† ÙƒØ¯Ù‡ Ø¨ÙƒØªÙŠØ± âœ¨</p>
                
                <div class="pt-2">
                    <button onclick="closeModal()" class="royal-btn text-white px-10 py-3 rounded-full shadow-lg font-bold">
                        Ø­Ø¨ÙŠØ¨ØªÙŠ ÙŠØ§ Ù…Ù„ÙˆÙƒÙ‡
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. CONFIGURATION & DATA ---
        const REACTION_ICONS = [
            { id: 'love', icon: 'â¤ï¸' },
            { id: 'wow', icon: 'ğŸ˜' },
            { id: 'bravo', icon: 'ğŸ‘' },
            { id: 'amazing', icon: 'âœ¨' }
        ];

        const categories = {
            specs: {
                icon: 'ğŸ“œ',
                title: 'Ù…ÙˆØ§ØµÙØ§Øª Ù…Ù„Ùƒ Ù…Ø­Ù…Ø¯ Ù…Ø­Ø±ÙˆØ³',
                content: 'Ù„Ù…Ø§ Ù†ÙŠØ¬ÙŠ Ù†ÙˆØµÙ Ù…Ù„ÙƒØŒ Ø§Ù„Ø­Ø±ÙˆÙ Ø¨ØªØ¹Ø¬Ø². Ø¥Ø­Ù†Ø§ Ù‚Ø¯Ø§Ù… "Ø£ÙŠÙ‚ÙˆÙ†Ø©" Ù…Ù† Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡. Ø´Ø®ØµÙŠØ© Ø¬Ø§Ù…Ø¹Ø© Ø¨ÙŠÙ† Ø§Ù„Ø±Ù‚Ø© ÙˆØ§Ù„Ù‚ÙˆØ©ØŒ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù‚Ù„Ø¨. Ø°ÙƒÙŠØ© Ø¬Ø¯Ø§Ù‹ ÙˆØ¨ØªÙ„Ù‚Ø·Ù‡Ø§ ÙˆÙ‡ÙŠ Ø·Ø§ÙŠØ±Ø©ØŒ ÙˆÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª Ù…ØªÙˆØ§Ø¶Ø¹Ø© ÙˆØ¨Ø³ÙŠØ·Ø©. Ù…Ù„Ùƒ Ù‡ÙŠ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø­ÙŠ Ù„Ù„Ø¨Ù†Øª Ø§Ù„Ù„ÙŠ Ø¨ØªØ¹Ø±Ù ØªÙƒÙˆÙ† "Ù„ÙŠØ¯ÙŠ" ÙˆÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª "Ø¨Ù…ÙŠØª Ø±Ø§Ø¬Ù„" ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„ØµØ¹Ø¨Ø©. Ù…Ù„Ø§Ù…Ø­Ùƒ Ø§Ù„Ù…Ø±ÙŠØ­Ø© ÙˆØ±ÙˆØ­Ùƒ Ø§Ù„Ø®ÙÙŠÙØ© Ø¨ØªØ®Ù„ÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† ØªØ¯Ø®Ù„ÙŠÙ‡ ÙŠÙ†ÙˆØ± Ø­Ø±ÙÙŠØ§Ù‹.'
            },
            team: {
                icon: 'ğŸ†',
                title: 'Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© ÙÙŠ Ø§Ù„ØªÙŠÙ…',
                content: 'Ù…Ù† ØºÙŠØ± Ø£ÙŠ Ù…Ø¬Ø§Ù…Ù„Ø©ØŒ Ø§Ù„ØªÙŠÙ… Ù…Ù† ØºÙŠØ±Ùƒ ÙˆÙ„Ø§ Ø­Ø§Ø¬Ø©! Ø£Ù†ØªÙŠ "Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…Ùˆ" Ø§Ù„Ù…Ø­Ø±Ùƒ Ù„ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø­Ù„ÙˆØ© Ø¨ØªØ­ØµÙ„. Ù„Ù…Ø§ Ø¨ØªØ¨Ù‚ÙŠ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙ„ Ø¨ÙŠØ¨Ù‚Ù‰ Ù…Ø·Ù…Ù†. Ø¨ØªØ¹Ø±ÙÙŠ ØªØ­Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø¨ØªØ¹Ù‚Ø¯ Ø£Ø¹ØªÙ‰ Ø§Ù„Ù†Ø§Ø³ Ø¨Ø§Ø¨ØªØ³Ø§Ù…Ø© ÙˆÙ‡Ø¯ÙˆØ¡ Ø£Ø¹ØµØ§Ø¨ ÙŠØ­Ø³Ø¯Ùƒ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø¬Ù…ÙŠØ¹. Ø¥Ø®Ù„Ø§ØµÙƒ ÙÙŠ Ø§Ù„Ø´ØºÙ„ ÙˆØªÙØ§Ù†ÙŠÙƒÙŠ Ø¯Ù‡ Ø¯Ø±Ø³ Ù„ÙŠÙ†Ø§ ÙƒÙ„Ù†Ø§. Ø£Ù†ØªÙŠ Ù…Ø´ Ø¨Ø³ Ø²Ù…ÙŠÙ„Ø©ØŒ Ø£Ù†ØªÙŠ Ù‚Ø§Ø¦Ø¯Ø© Ø¨Ø§Ù„ÙØ·Ø±Ø© ÙˆØ³Ù†Ø¯ Ø­Ù‚ÙŠÙ‚ÙŠ Ù„ÙŠÙ†Ø§ ÙƒÙ„Ù†Ø§.'
            },
            kindness: {
                icon: 'ğŸ’–',
                title: 'Ù…Ù†Ø¨Ø¹ Ø§Ù„Ø­Ù†ÙŠØ© ÙˆØ§Ù„Ø·ÙŠØ¨Ø©',
                content: 'Ù‚Ù„Ø¨Ùƒ Ø¯Ù‡ Ù…Ø­ØªØ§Ø¬ ÙŠØªØ¯Ø±Ø³ ÙÙŠ ÙƒØªØ¨ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©. ÙÙŠ Ø²Ù…Ù† Ø§Ù„Ù‚Ø³ÙˆØ© ÙÙŠÙ‡ Ø²Ø§Ø¯ØªØŒ Ø£Ù†ØªÙŠ Ù„Ø³Ù‡ Ù…Ø­Ø§ÙØ¸Ø© Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø¡ ÙˆØ·ÙŠØ¨Ø© Ø§Ù„Ø²Ù…Ù† Ø§Ù„Ø¬Ù…ÙŠÙ„. Ø¨ØªØ®Ø§ÙÙŠ ØªØ¬Ø±Ø­ÙŠ Ø­Ø¯ Ø¨ÙƒÙ„Ù…Ø©ØŒ ÙˆØ¨ØªØ±Ø§Ø¹ÙŠ Ù…Ø´Ø§Ø¹Ø± Ø§Ù„ØµØºÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„ÙƒØ¨ÙŠØ±. Ø­Ù†ÙŠØªÙƒ Ø¨ØªØºØ·ÙŠ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø­ÙˆØ§Ù„ÙŠÙƒÙŠØŒ ÙˆØ£ÙŠ Ø­Ø¯ Ø¨ÙŠÙ‚Ø±Ø¨ Ù…Ù†Ùƒ Ø¨ÙŠØ­Ø³ Ø¨Ø¯ÙØ§ ÙˆØ£Ù…Ø§Ù† Ù…Ø´ Ø·Ø¨ÙŠØ¹ÙŠ. ÙŠØ§ Ø¨Ø®Øª Ø§Ù„Ù„ÙŠ ÙÙŠ Ø­ÙŠØ§ØªÙ‡ Ø´Ø®Øµ Ø¨Ù‚Ù„Ø¨ Ù…Ù„Ùƒ Ù…Ø­Ù…Ø¯ Ù…Ø­Ø±ÙˆØ³.'
            },
            happiness: {
                icon: 'ğŸŒŸ',
                title: 'Ù…ØµØ¯Ø± Ø§Ù„Ø¨Ù‡Ø¬Ø© ÙˆØ§Ù„Ø³Ø±ÙˆØ±',
                content: 'Ø¹Ø§Ø±ÙØ© ÙŠØ¹Ù†ÙŠ Ø¥ÙŠÙ‡ "ÙÙŠØªØ§Ù…ÙŠÙ† ÙØ±Ø­Ø©"ØŸ Ø¯ÙŠ Ø£Ù†ØªÙŠ! Ø¶Ø­ÙƒØªÙƒ Ø±Ù†Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© Ø¨ØªØ¸Ø¨Ø· Ù…ÙˆØ¯ Ø§Ù„ÙƒÙˆÙ†. Ù„Ù…Ø§ Ø¨ØªØ¶Ø­ÙƒÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø¨ØªØ¶Ø­Ùƒ Ù…Ø¹Ø§ÙƒÙŠ. Ø¹Ù†Ø¯Ùƒ Ù‚Ø¯Ø±Ø© Ø¹Ø¬ÙŠØ¨Ø© ØªØ­ÙˆÙ„ÙŠ Ø§Ù„Ù‚Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ù„Ù‚Ø¹Ø¯Ø© ÙƒÙ„Ù‡Ø§ Ø¶Ø­Ùƒ ÙˆØ§Ù†Ø¨Ø³Ø§Ø·. Ø·Ø§Ù‚ØªÙƒ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ø¨ØªØ¹Ø¯ÙŠØŒ ÙˆÙ…Ø¬Ø±Ø¯ ÙˆØ¬ÙˆØ¯Ùƒ ÙƒÙÙŠÙ„ ÙŠÙ†Ø³ÙŠ Ø§Ù„ÙˆØ§Ø­Ø¯ Ù‡Ù…ÙˆÙ…Ù‡. Ø±Ø¨Ù†Ø§ ÙŠØ­ÙØ¸Ù„Ùƒ Ø§Ù„Ø¶Ø­ÙƒØ© Ø¯ÙŠ ÙˆÙ…ÙŠØºÙŠØ¨Ù‡Ø§Ø´ Ø£Ø¨Ø¯Ø§Ù‹ Ù„Ø£Ù†Ù‡Ø§ Ø´Ø±ÙŠØ§Ù† Ø­ÙŠØ§Ø© Ù„Ù†Ø§Ø³ ÙƒØªÙŠØ±.'
            },
            innocence: {
                icon: 'ğŸ’',
                title: 'Ø§Ù„Ù†ÙŠØ© Ø§Ù„ØµØ§ÙÙŠØ© ÙˆØ§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø£Ø¨ÙŠØ¶',
                content: 'Ø§Ù„Ù„ÙŠ ÙÙŠ Ù‚Ù„Ø¨Ùƒ Ø¹Ù„Ù‰ Ù„Ø³Ø§Ù†ÙƒØŒ Ù„Ø§ Ø¨ØªØ¹Ø±ÙÙŠ ØªÙ„ÙÙŠ ÙˆÙ„Ø§ ØªØ¯ÙˆØ±ÙŠØŒ ÙˆÙ„Ø§ Ù„ÙŠÙƒÙŠ ÙÙŠ Ø§Ù„Ø­ÙˆØ§Ø±Ø§Øª. Ø¥Ù†Ø³Ø§Ù†Ø© ÙˆØ§Ø¶Ø­Ø© ÙˆØµØ±ÙŠØ­Ø© ÙˆÙ†Ù‚ÙŠØ© Ø²ÙŠ Ø§Ù„Ù…ÙŠÙ‡ Ø§Ù„ØµØ§ÙÙŠØ©. ÙÙŠ Ø¹Ø² Ù…Ø§ Ø§Ù„Ù†Ø§Ø³ Ø¨ØªØªÙ„ÙˆÙ†ØŒ Ø£Ù†ØªÙŠ Ø«Ø§Ø¨ØªØ© Ø¹Ù„Ù‰ Ù…Ø¨Ø§Ø¯Ø¦Ùƒ ÙˆØ¹Ù„Ù‰ ÙØ·Ø±ØªÙƒ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©. Ù†ÙŠØªÙƒ Ø§Ù„Ø³Ø§Ù„ÙƒØ© Ø¯ÙŠ Ù‡ÙŠ Ø³Ø± ØªÙˆÙÙŠÙ‚ Ø±Ø¨Ù†Ø§ Ù„ÙŠÙƒÙŠØŒ ÙˆÙ‡ÙŠ Ø§Ù„Ù„ÙŠ Ù…Ø®Ù„ÙŠØ§ÙƒÙŠ "Ù…Ø­Ø¨ÙˆØ¨Ø© Ø§Ù„Ø¬Ù…Ø§Ù‡ÙŠØ±". Ø±Ø¨Ù†Ø§ ÙŠØ±Ø²Ù‚Ùƒ Ø¹Ù„Ù‰ Ù‚Ø¯ Ù†ÙŠØªÙƒ Ø¯ÙŠ Ø£Ø¶Ø¹Ø§Ù Ù…Ø¶Ø§Ø¹ÙØ©.'
            }
        };

        // --- 2. REACTION LOGIC ---

        function getStoredReactions() {
            const stored = localStorage.getItem('maloka_reactions');
            return stored ? JSON.parse(stored) : {};
        }

        function saveReaction(contentId, reactionId) {
            const current = getStoredReactions();
            // Toggle logic: if clicking same reaction, remove it (unlike)
            if (current[contentId] === reactionId) {
                delete current[contentId];
            } else {
                current[contentId] = reactionId;
            }
            localStorage.setItem('maloka_reactions', JSON.stringify(current));
            renderAllReactions(); // Re-render to update UI
        }

        function renderReactionsHTML(contentId) {
            const storedData = getStoredReactions();
            const activeReaction = storedData[contentId];

            return REACTION_ICONS.map(item => {
                const isActive = activeReaction === item.id;
                const activeClass = isActive ? 'active' : '';
                return `
                    <div class="reaction-btn ${activeClass}" 
                         onclick="saveReaction('${contentId}', '${item.id}')"
                         title="${item.id}">
                        ${item.icon}
                    </div>
                `;
            }).join('');
        }

        // Initialize static reactions on the Surprise Page
        function initStaticReactions() {
            document.getElementById('reactions-surprise-card').innerHTML = renderReactionsHTML('surprise_card');
            document.getElementById('reactions-surprise-msg').innerHTML = renderReactionsHTML('surprise_msg');
        }
        
        // Helper to update all visible reaction containers (called after any click)
        function renderAllReactions() {
            // Update static ones
            initStaticReactions();
            
            // Update modal if open (we need to know current category)
            // We store current category in a global variable
            if (window.currentCategory) {
                document.getElementById('reactions-modal-container').innerHTML = renderReactionsHTML(`cat_${window.currentCategory}`);
            }
        }


        // --- 3. NAVIGATION & UI FUNCTIONS ---

        function resetToHome() {
            closeSurprise();
            const menu = document.getElementById('sideMenu');
            const panel = document.getElementById('menuPanel');
            if (!menu.classList.contains('hidden')) {
                panel.classList.add('-translate-x-full');
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, 300);
            }
            closeModal();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleMenu() {
            const menu = document.getElementById('sideMenu');
            const panel = document.getElementById('menuPanel');
            
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                setTimeout(() => {
                    panel.classList.remove('-translate-x-full');
                }, 10);
            } else {
                panel.classList.add('-translate-x-full');
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, 300);
            }
        }

        function showCategory(key) {
            const data = categories[key];
            if (!data) return;

            // Set global current category for reaction logic
            window.currentCategory = key;

            document.getElementById('modalIcon').textContent = data.icon;
            document.getElementById('modalTitle').textContent = data.title;
            document.getElementById('modalContent').textContent = data.content;

            // Render reactions for this specific category
            const reactionContainer = document.getElementById('reactions-modal-container');
            reactionContainer.innerHTML = renderReactionsHTML(`cat_${key}`);

            const modal = document.getElementById('infoModal');
            const card = document.getElementById('modalCard');
            
            const menu = document.getElementById('sideMenu');
            const panel = document.getElementById('menuPanel');
            
            // Close menu
            panel.classList.add('-translate-x-full');
            setTimeout(() => {
                menu.classList.add('hidden');
                // Open Modal
                modal.classList.remove('hidden');
                setTimeout(() => {
                    card.classList.remove('scale-95', 'opacity-0');
                    card.classList.add('scale-100', 'opacity-100');
                }, 50);
            }, 300);
        }

        function closeModal() {
            const modal = document.getElementById('infoModal');
            const card = document.getElementById('modalCard');
            
            window.currentCategory = null; // Clear current category

            card.classList.remove('scale-100', 'opacity-100');
            card.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // --- 4. SURPRISE & BALLOON LOGIC ---
        let balloonInterval;

        function startSurprise() {
            const surprisePage = document.getElementById('surprisePage');
            surprisePage.classList.remove('hidden');
            surprisePage.classList.add('flex');
            
            // Initialize reactions when surprise page opens (in case it wasn't done)
            initStaticReactions();

            // Reset scroll to top
            surprisePage.scrollTop = 0;

            // Start balloons
            const container = document.getElementById('balloonsContainer');
            container.innerHTML = ''; 
            container.style.opacity = '1'; 

            for(let i=0; i<15; i++) createBalloon();

            balloonInterval = setInterval(createBalloon, 300);

            setTimeout(() => {
                clearInterval(balloonInterval); 
                container.style.transition = 'opacity 2s ease-out';
                container.style.opacity = '0';
                
                setTimeout(() => {
                    container.innerHTML = '';
                }, 2000);
            }, 3000);
        }

        function closeSurprise() {
            const surprisePage = document.getElementById('surprisePage');
            surprisePage.classList.add('hidden');
            surprisePage.classList.remove('flex');
            clearInterval(balloonInterval);
            document.getElementById('balloonsContainer').innerHTML = '';
        }

        function createBalloon() {
            const container = document.getElementById('balloonsContainer');
            if (!container) return;

            const balloon = document.createElement('div');
            balloon.classList.add('balloon');
            
            const colors = ['#4169E1', '#FFD700', '#FF69B4', '#8A2BE2', '#00FFFF'];
            const bg = colors[Math.floor(Math.random() * colors.length)];
            const left = Math.floor(Math.random() * 90) + 5; 
            
            balloon.style.backgroundColor = bg;
            balloon.style.left = `${left}%`;
            const duration = Math.random() * 2 + 3; 
            balloon.style.animationDuration = `${duration}s`;
            
            container.appendChild(balloon);

            setTimeout(() => {
                balloon.remove();
            }, duration * 1000);
        }

        // --- 5. INITIALIZATION ---
        // Load reactions on initial page load
        document.addEventListener('DOMContentLoaded', () => {
            initStaticReactions();
        });

    </script>
</body>
</html>
